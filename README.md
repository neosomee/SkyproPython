## Описание проекта

Данный проект представляет собой набор утилит для обработки и маскирования данных банковских карт и счетов. Он включает функции для фильтрации и сортировки транзакций, а также для маскирования номеров карт и счетов, чтобы обеспечить безопасность и конфиденциальность пользователей.


## Структура проекта

Проект имеет следующую структуру:

- `src/`: 
  - `widget.py`: функции для форматирования даты и маскирования данных.
  - `processing.py`: фильтрация и сортировка операций.
  - `masks.py`: маскирование номеров карт/счетов.
  - `main.py`: демонстрация работы функций.
  - `__init__.py`: маркировка директории как пакета.
- `tests/`:
  - `test_widget.py`: тесты для виджета.
  - `test_processing.py`: тесты обработки данных.
  - `test_mask.py`: тесты маскирования.
  - `__init__.py`: маркировка директории как пакета.

## Функции

### Файл: `processing.py`

- **filter_by_state(data, state='EXECUTED')**
  - Фильтрует список словарей по значению ключа `state`.
  - Возвращает новый список словарей с указанным состоянием.

- **sort_by_date(data, descending=True)**
  - Сортирует список словарей по дате.
  - Возвращает новый отсортированный список.

### Файл: `masks.py`

- **get_mask_card_number(card_number: str) -> str**
  - Маскирует номер банковской карты, показывая первые 6 и последние 4 цифры.
  
- **get_mask_account(account_number: str) -> str**
  - Маскирует номер банковского счета, отображая только последние 4 цифры.

### Файл: `widget.py`

- **mask_account_card(account_info)**
  - Маскирует номер карты или счета, показывая только часть информации.
  
- **get_date(date_str)**
  - Преобразует строку даты в более удобный формат (дд.мм.гггг).

### Файл: `main.py`


## Структура проекта

Проект имеет c тестированием теперь следующую структуру:

-   `data/`: Содержит данные для функций src директории.
    -   `operations.json`: Данные для функции utils.py.
    -   `transactions.csv`: Данные csv для функции reader.py.
    -   `transactions_excel.xlsx`: Данные excel для функции reader.py.
    -   `transactions_csv.py`: Нахождение файла transactions.csv.
    -   `transactions_excel.py`: Нахождение файла transactions_excel.xlsx.
    
## Пример использования

Для запуска программы просто выполните файл `main.py`. Программа продемонстрирует:
1. Маскирование номера карты.
2. Маскирование номера счета.
3. Маскирование различных типов карт и счетов.
4. Форматирование даты.

### Пример вывода

Маскированный номер карты: 700079 ** **** 6361
Счет **7305
11.03.2024

## Тестирование

Для запуска тестов выполните:
pip install pytest
pytest -v tests/

-   `logs/`: Содержит логи для функций src директории.
    -   `masks.log`: Логи файла masks.py
    -   `utils.log`: Логи файла utils.py


-   `src/`: Содержит исходный код проекта.
    -   `widget.py`: Содержит функции для форматирования даты и маскирования номера счета в виджете.
    -   `processing.py`: Содержит функции для фильтрации и сортировки операций.
    -   `masks.py`: Содержит функции для маскирования номеров карт и счетов.
    - `__init__.py` : Для маркировки директории как Python-пакета.
    - `generators.py` : Фильтрует транзакции, генерирует описания и номера карт.
    - `decorators.py` : Записывает информацию о вызовах функций.
    - `external_api.py` : Конвертирует валюту в рубли.
    - `reader.py` : Считывает csv и excel файлы.
    - `search_reader.py` : Возвращает список словарей


-   `tests/`: Содержит тесты для проекта.
    -   `test_widget.py`: Содержит тесты для функций из `widget.py`.
    -   `test_processing.py`: Содержит тесты для функций из `processing.py`.
    -   `test_mask.py`: Содержит тесты для функций из `masks.py`.
    -   `__init__.py` : Для маркировки директории как Python-пакета
    -   `test_generators.py` : Тестирует функции фильтрации транзакций и генерации номеров карт.
    -   `test_decorators.py` : Тестирует функции записывания информации о вызовах функций.
    -   `test_decorators.py` : Тестирует функции записывания информации о вызовах функций.
    -   `test_external_api.py` : Тестирует функции конвертирования валюты в рубли.
    -   `test_reader.py` : Тестирует функции cчитывания csv и excel файлы.
    -   `test_search_reader.py` : Тестирует функции возвращения списка словарей.


-   `main.py`: Отвечает за основную логику проекта и связывает функциональности между собой.



## Зависимости
- pandas (>=2.2.3,<3.0.0)
- openpyxl (>=3.1.5,<4.0.0)
- python-dotenv (>=1.0.1,<2.0.0)
- requests (>=2.32.3,<3.0.0)
- pytest (>=8.3.4,<9.0.0) [для тестирования]


